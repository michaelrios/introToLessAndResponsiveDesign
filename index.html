<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Apps by Mike</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div id="container">
    <header>
        <div id="header">
            <div id="logo">
                <img class="img" src="img/beard.png"/>
                <img class="text" src="img/appsByMike.png"/>
            </div>
            <div id="menu-icon" class="open"></div>
            <div id="nav">
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Our Process</a></li>
                    <li><a href="#">Featured Work</a></li>
                    <li><a href="#">Contact</a></li>
                    <li>
                        <div id="searchBox">
                            <form accept-charset="UTF-8" action="#" method="get">
                                <input id="searchInput" type="text" autocomplete="off" placeholder="Search for Something!"/>
                                <button type="submit"><img src="img/magnify.png"/></button>
                            </form>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </header>

    <div id="hero-wrapper">
        <div id="hero">
            <div id="hero-left">
                <div id="gt-racing-logo">
                    <img src="./img/gtRacingLogo.png" />
                </div>
                <div id="featured-app-icon">
                    <div id="featured-app">FEATURED APP</div>
                </div>
                <p id="gt-racing-description">GT Racing 2: The Real Car Experience is a
                    true-to-life automotive journey featuring
                    the most prestigious cars in the world.</p>
                <div class="quote">
                    <span class="statement">"The Best Handheld Racing Simulator Ever!"</span>
                    <span class="author">- Car and Driver Magazine</span>
                </div>
                <button class="case-study">
                    <span>VIEW CASE STUDY</span>
                </button>
            </div>
        </div>
    </div>

    <div id="content">
        <div id="cool-sections">
            <ul>
                <li>
                    <h2>COOL SECTION #1</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa.</p>
                </li>
                <li>
                    <h2>COOL SECTION #2</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa.</p>
                </li>
            </ul>
        </div>
        <hr />
        <div id="featured-work">
            <h3>FEATURED WORK</h3>
            <div id="featured-work-filter">

            </div>
            <div id="filtered-feature-work">

            </div>
        </div>
    </div>

    <footer>
        <div id="footer">
            <div>
                <div id="sitemap">
                    <h4>SITEMAP</h4>
                </div>
                <div id="newsletter-sign-up">
                    <span>Sign Up for Our Newsletter</span>
                </div>
            </div>
            <div id="featured-apps">
                <h4>FEATURED APPS</h4>
            </div>
        </div>
    </footer>
</div>

<script>

    var menuIcon = document.getElementById("menu-icon"),
        nav = document.getElementById("nav"),
        results = [
            {name: 'Something Great'},
            {name: 'Something Fantastic'},
            {name: 'Something Not So Good'}
        ];

    menuIcon.addEventListener('click', function () {
        if (getDisplayStatus(nav) == 'none') {
            nav.style.display = 'block';
            menuIcon.className = 'close';
        } else {
            nav.style.display = 'none';
            menuIcon.className = 'open';
        }
    });

    window.onresize =function(e) {
        if(window.innerWidth > 950 && getDisplayStatus(nav) == 'none') {
            nav.style.display = 'block';
        } else if (window.innerWidth <= 950 && getDisplayStatus(nav) == 'block' && menuIcon.className === 'open') {
            nav.style.display = 'none';
        }
    };

    function getDisplayStatus (domObject) {
        return domObject.currentStyle ? domObject.currentStyle.display :
                getComputedStyle(domObject, null).display;
    }

    var searchInput = document.getElementById('searchInput'),
            resultSet, result, text;
    searchInput.addEventListener('keyup', function() {
        resultSet = [];
        for(var i=0; result=results[i]; i++) {
            if(this.value !== '' && result.name.search(new RegExp(this.value, 'i')) >= 0) {
                resultSet.push(result.name);
            }
        }
        if (resultSet.length > 0) {
            text = '<div class="result"><a href="#">' + resultSet.join('</a></div><div class="result"><a href="#">') + '</a></div>';
            console.log(resultSet);
            if(!this.suggestion) {
                var rect = this.getBoundingClientRect();
                var left = rect.left;
                var top = rect.bottom;
                this.suggestion = document.createElement('div');
                this.suggestion.className = 'results';
                this.suggestion.innerHTML = text;
                this.suggestion.setAttribute('style', 'position: absolute; top: ' + top + 'px; left: ' + left + 'px;');
                this.parentNode.appendChild(this.suggestion);
            } else {
                this.suggestion.innerHTML = text;
                this.suggestion.style.display = 'block';
            }
        }

    });
    searchInput.addEventListener('blur', function() {
        console.log(this.suggestion);
        if(this.suggestion) {
            this.suggestion.style.display = 'none';
        }
    });

</script>
</body>
</html>